<!DOCTYPE html>
<html>
<head>
    <title>Brainlab Config Viewer</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
</head>
<body class="p-4">
    <h2>Upload Your Device Config</h2>
    <form id="uploadForm">
        <input type="file" name="config_file" required>
        <button type="submit" class="btn btn-primary">Upload</button>
    </form>
    <pre id="result" class="mt-3 bg-light p-3"></pre>

    <script>
        const form = document.getElementById('uploadForm');
        form.onsubmit = async (e) => {
            e.preventDefault();
            const formData = new FormData(form);
            const res = await fetch('/upload', { method: 'POST', body: formData });
            const json = await res.json();
            document.getElementById('result').textContent = JSON.stringify(json.data, null, 2);
        }
    </script>
</body>
</html>
